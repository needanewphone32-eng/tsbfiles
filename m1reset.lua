local Players=game:GetService("Players");local Plr=Players.LocalPlayer;local UIS=game:GetService("UserInputService");local TweenService=game:GetService("TweenService");local RunService=game:GetService("RunService");local Workspace=game:GetService("Workspace");local ReplicatedStorage=game:GetService("ReplicatedStorage");local VIM;pcall(function()VIM=game:GetService("VirtualInputManager")end)VIM=VIM or rawget(_G,"VirtualInputManager") or (rawget(_G,"syn") and rawget(_G,"syn").virtual_input) or rawget(_G,"virtualinputmanager");local KEYBINDS={M1_RESET=Enum.KeyCode.R,EMOTE_DASH=Enum.KeyCode.T};getgenv().connections=getgenv().connections or {} if type(getgenv().connections)=="table"then for _,c in ipairs(getgenv().connections)do pcall(function()if c and c.Disconnect then c:Disconnect()end end)end end;getgenv().connections={};local function chooseGuiParent(timeout)timeout=timeout or 2;if type(gethui)=="function"then local ok,g=pcall(gethui)if ok and g then return g end end;if Plr then local s=tick() while tick()-s<timeout do if Plr:FindFirstChild("PlayerGui")then return Plr.PlayerGui end task.wait(0.05)end if Plr:FindFirstChild("PlayerGui")then return Plr.PlayerGui end end;local ok,core=pcall(function()return game:GetService("CoreGui")end)if ok and core then return core end;return game:GetService("StarterGui")end;local GuiParent=chooseGuiParent(3);pcall(function()for _,name in ipairs({"M1_RESET_UI","TSB_UI","M1ResetUI"})do local old=GuiParent:FindFirstChild(name)if old then old:Destroy()end end end);local function protectGui(g)local _syn=rawget(_G,"syn")if _syn and type(_syn.protect_gui)=="function"then pcall(function()_syn.protect_gui(g)end)end end;local Themes={{name="Dark",Panel=Color3.fromRGB(30,30,30),Button=Color3.fromRGB(50,50,50),Accent=Color3.fromRGB(200,200,200),Text=Color3.fromRGB(255,255,255)},{name="Gray",Panel=Color3.fromRGB(60,60,60),Button=Color3.fromRGB(80,80,80),Accent=Color3.fromRGB(150,150,150),Text=Color3.fromRGB(255,255,255)},{name="Black",Panel=Color3.fromRGB(20,20,20),Button=Color3.fromRGB(40,40,40),Accent=Color3.fromRGB(100,100,100),Text=Color3.fromRGB(255,255,255)},{name="Neon",Panel=Color3.fromRGB(10,10,10),Button=Color3.fromRGB(0,200,255),Accent=Color3.fromRGB(255,0,255),Text=Color3.fromRGB(255,255,255)},{name="Cyber",Panel=Color3.fromRGB(15,15,20),Button=Color3.fromRGB(35,35,45),Accent=Color3.fromRGB(0,255,150),Text=Color3.fromRGB(255,255,255)}};local themeIndex,Theme=1,Themes[1];local function roundify(inst,r)local c=Instance.new("UICorner")c.CornerRadius=UDim.new(0,r or 12)c.Parent=inst end;local function stroke(inst,color,thickness,trans)local s=Instance.new("UIStroke")s.Color=color or Theme.Accent s.Thickness=thickness or 1 s.Transparency=trans or 0.5 s.Parent=inst end;local rootGui=nil;local floats={};local isPerformingAction=false;local animCache={};local camera=Workspace.CurrentCamera;local function getCharacter()local char=Plr and Plr.Character;local humanoid=char and char:FindFirstChildOfClass("Humanoid");return char,humanoid end;local function Stopallanimation()local _,humanoid=getCharacter() if humanoid then local animator=humanoid:FindFirstChildOfClass("Animator") if animator then local success,tracks=pcall(function()return animator:GetPlayingAnimationTracks()end) if success and tracks then for _,track in ipairs(tracks)do pcall(function()track:Stop()end)end end end end end;local function playAnimation(animationId)local _,humanoid=getCharacter() if not humanoid then return end;local animator=humanoid:FindFirstChildOfClass("Animator") if not animator then animator=Instance.new("Animator") animator.Parent=humanoid end;local animation=animCache[animationId] if not animation then animation=Instance.new("Animation") animation.AnimationId="rbxassetid://"..tostring(animationId) animCache[animationId]=animation end;local ok,animTrack=pcall(function()return animator:LoadAnimation(animation)end) if not ok or not animTrack then return end;animTrack.Priority=Enum.AnimationPriority.Action;animTrack:Play();pcall(function()animTrack:AdjustSpeed(1.2)end);return animTrack end;local function rotateCharacter(degrees) if isPerformingAction then return end;isPerformingAction=true;local character,_=getCharacter() local rootPart=character and character:FindFirstChild("HumanoidRootPart") if rootPart then pcall(function() rootPart.CFrame=rootPart.CFrame*CFrame.Angles(0,math.rad(degrees),0);local camPos=camera and camera.CFrame.Position or rootPart.Position+Vector3.new(0,5,0);local camY=camPos.Y;local distanceVec=camPos-rootPart.Position;local flatVec=Vector3.new(distanceVec.X,0,distanceVec.Z);local rotatedVec=CFrame.fromAxisAngle(Vector3.yAxis,math.rad(degrees))*flatVec;local newCamPos=rootPart.Position+rotatedVec;if camera and camera:IsA("Camera") then camera.CFrame=CFrame.lookAt(Vector3.new(newCamPos.X,camY,newCamPos.Z),rootPart.Position) end end) end;isPerformingAction=false end;local function sideDash(direction,distance,duration) if isPerformingAction then return end;isPerformingAction=true;local character,_=getCharacter() local rootPart=character and character:FindFirstChild("HumanoidRootPart") if rootPart then local tween=TweenService:Create(rootPart,TweenInfo.new(duration,Enum.EasingStyle.Sine,Enum.EasingDirection.Out),{CFrame=rootPart.CFrame*CFrame.new(direction*distance,0,0)}) pcall(function()tween:Play()end) if tween then pcall(function()tween.Completed:Wait()end) end pcall(function()tween:Destroy()end) end;isPerformingAction=false end;local function impulseDash(direction,distance,height,power,duration) if isPerformingAction then return end;isPerformingAction=true;local character,_=getCharacter() local rootPart=character and character:FindFirstChild("HumanoidRootPart") if rootPart then local force=Instance.new("BodyVelocity") local vec=(rootPart.CFrame.RightVector*direction*distance+Vector3.new(0,height,0)) if vec.Magnitude==0 then vec=Vector3.new(0,1,0) end;force.Velocity=vec.Unit*power;force.MaxForce=Vector3.new(math.huge,math.huge,math.huge);force.Parent=rootPart;task.delay(duration,function() pcall(function()force:Destroy()end) end) end;isPerformingAction=false end;local function doM1Reset() Stopallanimation();pcall(function()playAnimation(10480793962)end);pcall(function()sideDash(1,26,0.22)end);pcall(function()rotateCharacter(70)end);task.wait(0.003);pcall(function() if VIM and type(VIM.SendKeyEvent)=="function" then VIM:SendKeyEvent(true,Enum.KeyCode.Q,false,game) VIM:SendKeyEvent(false,Enum.KeyCode.Q,false,game) end end) end;local function doEmoteDash() Stopallanimation();pcall(function()playAnimation(10480793962)end);pcall(function()rotateCharacter(90)end);pcall(function()impulseDash(1,38,8,95,0.27)end) end;local vimAvailable=(VIM and type(VIM.SendKeyEvent)=="function");rootGui=Instance.new("ScreenGui") rootGui.Name="M1_RESET_UI" rootGui.ResetOnSpawn=false rootGui.IgnoreGuiInset=true rootGui.DisplayOrder=9999 rootGui.ZIndexBehavior=Enum.ZIndexBehavior.Global;local function setRootParent() local parent=(Plr and Plr:FindFirstChild("PlayerGui")) or game:GetService("CoreGui") or game:GetService("StarterGui");local ok=pcall(function() rootGui.Parent=parent end);if ok and rootGui.Parent then return true end;local alt=chooseGuiParent(2);local ok2=pcall(function() rootGui.Parent=alt end);return ok2 and rootGui.Parent end;setRootParent();protectGui(rootGui);local function applyTheme() for _,inst in ipairs(rootGui:GetDescendants())do if inst:IsA("TextLabel") or inst:IsA("TextButton") then inst.TextColor3=Theme.Text end if inst:IsA("Frame") then inst.BackgroundColor3=Theme.Panel end if inst:IsA("TextButton") and inst.Name~="MobileBtn" then inst.BackgroundColor3=Theme.Button end local s=inst:FindFirstChildOfClass("UIStroke") if s then pcall(function() s.Color=Theme.Accent end) end end for _,f in ipairs(floats)do if f then f.BackgroundColor3=Theme.Button f.TextColor3=Theme.Text local s=f:FindFirstChildOfClass("UIStroke") if s then pcall(function() s.Color=Theme.Accent end) end end end end;local Intro=Instance.new("Frame",rootGui) Intro.Size=UDim2.fromOffset(300,160) Intro.Position=UDim2.new(0.5,-150,0.1,-200) Intro.BackgroundColor3=Theme.Panel Intro.BackgroundTransparency=0.15 roundify(Intro,14) stroke(Intro,Theme.Accent,1,0.5);local IntroTxt=Instance.new("TextLabel",Intro) IntroTxt.Size=UDim2.fromScale(1,1) IntroTxt.BackgroundTransparency=1 IntroTxt.TextColor3=Theme.Text IntroTxt.Font=Enum.Font.GothamBold IntroTxt.TextSize=20 IntroTxt.TextWrapped=true IntroTxt.Text="M1 Reset by dovi!\nKeybinds: R = M1 Reset | T = Emote Dash" pcall(function()TweenService:Create(Intro,TweenInfo.new(0.5,Enum.EasingStyle.Bounce,Enum.EasingDirection.Out),{Position=UDim2.new(0.5,-150,0.1,0)}):Play()end) task.delay(4,function() pcall(function()TweenService:Create(Intro,TweenInfo.new(0.3,Enum.EasingStyle.Quad,Enum.EasingDirection.In),{Position=UDim2.new(0.5,-150,0.1,-200)}):Play()end) task.wait(0.4) pcall(function() if Intro and Intro.Parent then Intro:Destroy() end end) end);local Panel=Instance.new("Frame",rootGui) Panel.Size=UDim2.new(0,190,0,200) Panel.Position=UDim2.new(0,20,0.5,0) Panel.BackgroundColor3=Theme.Panel Panel.BackgroundTransparency=1 roundify(Panel,16) stroke(Panel,Theme.Accent,1,0.5) pcall(function()TweenService:Create(Panel,TweenInfo.new(0.4),{BackgroundTransparency=0.2}):Play()end);do local dragging,dragInput,dragStart,startPos=false,nil,nil,nil;Panel.InputBegan:Connect(function(input) if input.UserInputType==Enum.UserInputType.MouseButton1 or input.UserInputType==Enum.UserInputType.Touch then dragging=true dragInput=input dragStart=input.Position startPos=Panel.Position input.Changed:Connect(function() if input.UserInputState==Enum.UserInputState.End then dragging=false end end) end end);Panel.InputChanged:Connect(function(input) if input.UserInputType==Enum.UserInputType.MouseMovement or input.UserInputType==Enum.UserInputType.Touch then dragInput=input end end);RunService.RenderStepped:Connect(function() if dragging and dragInput and dragStart and startPos then local delta=dragInput.Position-dragStart Panel.Position=UDim2.new(startPos.X.Scale,startPos.X.Offset+delta.X,startPos.Y.Scale,startPos.Y.Offset+delta.Y) end end) end;local Header=Instance.new("Frame",Panel) Header.Size=UDim2.new(1,0,0,34) Header.BackgroundTransparency=1;local Title=Instance.new("TextLabel",Header) Title.Size=UDim2.new(1,-130,1,0) Title.Position=UDim2.new(0,12,0,0) Title.BackgroundTransparency=1 Title.Text="M1 reset by dovi!" Title.Font=Enum.Font.GothamBlack Title.TextSize=16 Title.TextColor3=Theme.Text Title.TextXAlignment=Enum.TextXAlignment.Left;local ThemeBtn=Instance.new("TextButton",Header) ThemeBtn.Size=UDim2.new(0,100,0,30) ThemeBtn.Position=UDim2.new(1,-110,0.5,-15) ThemeBtn.BackgroundColor3=Theme.Button ThemeBtn.TextColor3=Theme.Text ThemeBtn.Font=Enum.Font.GothamBold ThemeBtn.TextSize=14 ThemeBtn.Text="Theme: "..Theme.name roundify(ThemeBtn,10) stroke(ThemeBtn,Theme.Accent,1,0.5) ThemeBtn.MouseButton1Click:Connect(function() themeIndex=themeIndex%#Themes+1 Theme=Themes[themeIndex] ThemeBtn.Text="Theme: "..Theme.name applyTheme() end);local factoryButtons={} local function makeBtn(text,y,cb) local b=Instance.new("TextButton",Panel) b.Size=UDim2.new(1,-24,0,44) b.Position=UDim2.new(0,12,0,y) b.BackgroundColor3=Theme.Button b.TextColor3=Theme.Text b.Font=Enum.Font.GothamBold b.TextSize=16 b.Text=text roundify(b,12) stroke(b,Theme.Accent,1,0.5) b.AutoButtonColor=false b.MouseEnter:Connect(function() pcall(function()TweenService:Create(b,TweenInfo.new(0.15),{BackgroundColor3=Theme.Accent,Size=UDim2.new(1,-22,0,46)}):Play()end) end) b.MouseLeave:Connect(function() pcall(function()TweenService:Create(b,TweenInfo.new(0.15),{BackgroundColor3=Theme.Button,Size=UDim2.new(1,-24,0,44)}):Play()end) end) b.MouseButton1Down:Connect(function() pcall(function()TweenService:Create(b,TweenInfo.new(0.1),{Size=UDim2.new(1,-26,0,42)}):Play()end) end) b.MouseButton1Up:Connect(function() pcall(function()TweenService:Create(b,TweenInfo.new(0.1),{Size=UDim2.new(1,-22,0,46)}):Play()end) end) b.MouseButton1Click:Connect(function() task.spawn(function() pcall(cb) end) end) table.insert(factoryButtons,b) return b end;local btnM1=makeBtn("M1 Reset",54,doM1Reset) local btnEmote=makeBtn("Emote Dash",104,doEmoteDash) local btnUnload=makeBtn("Unload",154,function() for _,c in ipairs(getgenv().connections)do pcall(function() if c and c.Disconnect then c:Disconnect() end end) end getgenv().connections={} pcall(function()rootGui:Destroy()end) end);local mobileMode=false;local function createFloat(btn,idx) task.wait(0.1) local screenSize=camera and camera.ViewportSize or Vector2.new(1920,1080) local baseX=20+(idx-1)*150 local baseY=screenSize.Y-100 local f=Instance.new("TextButton",rootGui) f.Size=UDim2.new(0,140,0,45) f.Position=UDim2.new(0,math.clamp(baseX,12,screenSize.X-150),0,math.clamp(baseY,12,screenSize.Y-60)) f.BackgroundColor3=Theme.Button f.TextColor3=Theme.Text f.Font=btn.Font f.TextSize=btn.TextSize f.Text=btn.Text roundify(f,12) stroke(f,Theme.Accent,1,0.5) f.ZIndex=100 f.BackgroundTransparency=1 f.TextTransparency=1 pcall(function()TweenService:Create(f,TweenInfo.new(0.3),{BackgroundTransparency=0,TextTransparency=0}):Play()end) f.MouseButton1Click:Connect(function() if f.Text:match("M1") then pcall(doM1Reset) elseif f.Text:match("Emote") then pcall(doEmoteDash) end end) do local dragging,dragInput,dragStart,startPos=false,nil,nil,nil f.InputBegan:Connect(function(input) if input.UserInputType==Enum.UserInputType.MouseButton1 or input.UserInputType==Enum.UserInputType.Touch then dragging=true dragInput=input dragStart=input.Position startPos=Vector2.new(f.Position.X.Offset,f.Position.Y.Offset) input.Changed:Connect(function() if input.UserInputState==Enum.UserInputState.End then dragging=false end end) end end) f.InputChanged:Connect(function(input) if input.UserInputType==Enum.UserInputType.MouseMovement or input.UserInputType==Enum.UserInputType.Touch then dragInput=input end end) local conn conn=RunService.RenderStepped:Connect(function() if dragging and dragInput and dragStart and startPos then local delta=dragInput.Position-dragStart local newPos=startPos+Vector2.new(delta.X,delta.Y) f.Position=UDim2.new(0,newPos.X,0,newPos.Y) end end) f.AncestryChanged:Connect(function() if not f.Parent and conn then conn:Disconnect() end end) end return f end;local MobileBtn=Instance.new("TextButton",Panel) MobileBtn.Size=UDim2.new(0,100,0,30) MobileBtn.Position=UDim2.new(1,-110,1,5) MobileBtn.BackgroundColor3=Theme.Button MobileBtn.TextColor3=Theme.Text MobileBtn.Font=Enum.Font.GothamBold MobileBtn.TextSize=14 MobileBtn.Text="Mobile: OFF" roundify(MobileBtn,10) stroke(MobileBtn,Theme.Accent,1,0.5) MobileBtn.MouseButton1Click:Connect(function() mobileMode=not mobileMode MobileBtn.Text=mobileMode and "Mobile: ON" or "Mobile: OFF" if mobileMode then pcall(function()TweenService:Create(Panel,TweenInfo.new(0.3),{Size=UDim2.new(0,160,0,100)}):Play()end) Panel.Position=UDim2.new(0,20,0.6,0) btnM1.Visible=false btnEmote.Visible=false pcall(function()TweenService:Create(btnUnload,TweenInfo.new(0.3),{Position=UDim2.new(0,12,0,54)}):Play()end) floats={} table.insert(floats,createFloat(btnM1,1)) table.insert(floats,createFloat(btnEmote,2)) else for _,f in ipairs(floats)do pcall(function()TweenService:Create(f,TweenInfo.new(0.2),{BackgroundTransparency=1,TextTransparency=1}):Play()end) task.wait(0.3) pcall(function()f:Destroy()end) end floats={} pcall(function()TweenService:Create(Panel,TweenInfo.new(0.3),{Size=UDim2.new(0,190,0,200)}):Play()end) Panel.Position=UDim2.new(0,20,0.5,0) btnM1.Visible=true btnEmote.Visible=true pcall(function()TweenService:Create(btnUnload,TweenInfo.new(0.3),{Position=UDim2.new(0,12,0,154)}):Play()end) end end);applyTheme();local connInput=UIS.InputBegan:Connect(function(input,gpe) if gpe then return end if UIS:GetFocusedTextBox() then return end if input.UserInputType~=Enum.UserInputType.Keyboard then return end if input.KeyCode==KEYBINDS.M1_RESET then pcall(doM1Reset) elseif input.KeyCode==KEYBINDS.EMOTE_DASH then pcall(doEmoteDash) end end) table.insert(getgenv().connections,connInput)
